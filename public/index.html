<!DOCTYPE html>
<html lang="en"> <!--The standard declaration <!doc...> already signifies we are using html5-->
<head>
    <meta charset="utf-8">
    <title>Moodify&trade;</title>
    <script type="text/javascript" src="index.js"></script>
    <script type="text/javascript" src="ble.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet'>
</head>

<body style="font-family: 'Comfortaa',sans-serif;color:white;" onload="loadIn()">

<!-- Side Navigation bar -->
<div id="sidebar" class="w3-sidebar w3-bar-block" style="width:20%;">

    <!-- Elements of Side Nav bar -->
    <div class="container">
        <h1 class="title">Moodify&trade;</h1>
        <p>Welcome to the webinterface of <i>your</i> Moodify&trade;!</p>

        <div>
            <a class="accordion w3-bar-item w3-button" style="text-align:center;">Modes</a>

            <div class="panel">
                <div>
                    <input type="radio" id="contactChoice1" onclick="updateChoice()"
                           name="contact" value="email">
                    <label for="contactChoice1">Manual / Light Mode</label>
                </div>
                <div>
                    <input type="radio" id="contactChoice2" onclick="updateChoice()"
                           name="contact" value="phone">
                    <label for="contactChoice2">Mood Lighting Mode</label>
                </div>
                <div>
                    <input type="radio" id="contactChoice3" onclick="updateChoice()"
                           name="contact" value="mail">
                    <label for="contactChoice3">Music Mode</label>
                </div>
            </div>
        </div>

        <a href="#" class="w3-bar-item w3-button" style="text-align: center">Alarm</a>
    </div>

    <div class="btn_holder">
        <!-- For now onclick of Disconnect calls disconnect function in index.js (alert box) -->
        <button onclick="getDevice();"  class="btn disconnect_btn" style="color:white">&nbsp;&nbsp;&nbsp;Connect&nbsp;&nbsp;</button>
        <button onclick="disconnect();"  class="btn disconnect_btn" style="color:white">Disconnect</button>

        <div id="disconModal" class="modal">
            <div class="modalContent">
                <span class="close" onclick="closing()">&times;</span>
                <p style="color:black;">You have been disconnected</p>
            </div>
        </div>
    </div>
</div>



<!-- Container for the light and toggle button and other features -->
<div id="main">
    <!-- Glowing light -->
    <div class="container top-section">
        <!--This is the light on the standard page-->
        <div class="circle flex">
            <span class="light"></span>
        </div>

        <!-- Toggle Switch  -->
        <div class="w3-row">
            <label>Manual Light</label>
            <label>Auto LDR</label>
        </div>
        <div class="w3-row">
            <label class="switch">
                <input type="checkbox" id="ManualLight" onclick="sendUpdate(0);">
                <span class="slider round"></span>
                <div class="text"></div>
            </label>
            <label class="switch">
                <input type="checkbox" id="LightIntensityMode" onclick="sendUpdate(1);">
                <span class="slider round"></span>
                <div class="text"></div>
            </label>
        </div>

        <!-- Color palette -->
        <span class="custom-control custom-switch">
                    <div id="colours">
                        <div class="colourSquare whiteSquare"></div>
                        <div class="colourSquare redSquare"></div>
                        <div class="colourSquare blueSquare"></div>
                        <div class="colourSquare greenSquare"></div>
                    </div>

            <!-- Slider for Intensity -->
                    <div id="slidr" class="slidecontainer">
                        <input id="range_slider" type="range" min="0" max="100" value="50" step="1" class="slider range">
                        <div id="demo"></div>
                        <!-- This appears behind the slider  <label>Intensity</label> -->
                    </div>
                </span>
    </div>


    <footer id="footer">
        Moodify&trade;, the future we all wish we were living.
    </footer>
</div>
</body>


<!--Somehow it doesn't work if I put this in the index.js file-->
<script type="text/javascript">
    var acc = document.getElementsByClassName("accordion");

    for (let i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
                /* Toggle between adding and removing the "active" class,
                to highlight the button that controls the panel */
                this.classList.toggle("active");

                /* Toggle between hiding and showing the active panel */
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {panel.style.display = "block";}
            }
        );
    }

</script>
</html>
